# –û—Ç—á–µ—Ç –æ–± —É–ø—Ä–æ—â–µ–Ω–∏–∏ - —É–±—Ä–∞—Ç—å –ø—Ä–µ–≤—å—é —Å–æ–≤—Å–µ–º v4.4.51

**–î–∞—Ç–∞**: 2025-09-01  
**–í–µ—Ä—Å–∏—è**: v4.4.51  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ  

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã v4.4.50

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è `ccbd1260/run_20250901_184808`
–ò–∑ –∞–Ω–∞–ª–∏–∑–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤—ã—è–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **‚ùå –ü—Ä–µ–≤—å—é –Ω–µ –ø–æ—è–≤–ª—è–ª–æ—Å—å –≤–æ –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏**: Callback —Ä–∞–±–æ—Ç–∞–ª, –Ω–æ –ø—Ä–µ–≤—å—é —Å–æ–∑–¥–∞–≤–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Ü–µ
2. **‚ùå –ß–µ—Ä–Ω—ã–µ –∫–≤–∞–¥—Ä–∞—Ç—ã**: `out_0.png` —Å–æ–¥–µ—Ä–∂–∞–ª —Ç–æ–ª—å–∫–æ PNG –∑–∞–≥–æ–ª–æ–≤–æ–∫, –Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—ã–ª–æ –ø—É—Å—Ç—ã–º
3. **‚ùå –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞**: –ú–Ω–æ–≥–æ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ –ø—Ä–æ–±–ª–µ–º —Å –º–∞–ø–ø–∏–Ω–≥–æ–º
4. **‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–µ–ª –ø—Ä–æ–≥—Ä–µ—Å—Å**: –ü—Ä–µ–≤—å—é –ø–æ—è–≤–ª—è–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏:
```
INFO:predict:üü° PREVIEW_READY /tmp/preview_01.png
INFO:predict:üü° PREVIEW_READY /tmp/preview_02.png
...
INFO:predict:üü° PREVIEW_READY /tmp/preview_06.png
INFO:predict:‚úÖ FINAL_READY /tmp/final.png
INFO:predict:üé® COLORMAP_READY /tmp/colormap.png
INFO:predict:üü° PREVIEW_READY /tmp/preview.png  # –¢–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Ü–µ!
```

## –†–µ—à–µ–Ω–∏–µ v4.4.51

### –ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –£–±—Ä–∞—Ç—å –ø—Ä–µ–≤—å—é —Å–æ–≤—Å–µ–º
**–ü—Ä–∏—á–∏–Ω–∞**: –ü—Ä–µ–≤—å—é –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ —Å–æ–∑–¥–∞–≤–∞–ª–æ –±–æ–ª—å—à–µ –ø—Ä–æ–±–ª–µ–º, —á–µ–º –ø–æ–ª—å–∑—ã.

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
1. **‚úÖ –£–±—Ä–∞–Ω–æ –ø—Ä–µ–≤—å—é**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω callback –∏ –ª–æ–≥–∏–∫–∞ –ø—Ä–µ–≤—å—é
2. **‚úÖ –£–ø—Ä–æ—â–µ–Ω –≤–æ–∑–≤—Ä–∞—Ç**: –¢–æ–ª—å–∫–æ `final.png` –∏ `colormap.png`
3. **‚úÖ –£–±—Ä–∞–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã**: –ù–∏–∫–∞–∫–∏—Ö —á–µ—Ä–Ω—ã—Ö –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ –∏ –ø—Ä–æ–±–ª–µ–º —Å –º–∞–ø–ø–∏–Ω–≥–æ–º

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### `predict.py`
```python
# –î–û (v4.4.50) - –°–õ–û–ñ–ù–û:
# –ï–¥–∏–Ω—ã–π –ø—Ä–æ—Ö–æ–¥: –ø—Ä–µ–≤—å—é –±–µ—Ä—ë–º –Ω–∞ –ø–æ–ª–æ–≤–∏–Ω–µ —à–∞–≥–æ–≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ callback
preview_emitted = False
preview_counter = 0
preview_paths: List[Path] = []
total_steps = max(5, int(steps))
interval = max(1, total_steps // 6)

def _on_step(step: int = None, timestep: int = None, latents: torch.FloatTensor = None):
    # –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ callback...

result = pipe_to_use(
    **{**pipe_kwargs, "output_type": "pil", "callback": _on_step, "callback_steps": 1}
)

# –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Ñ–∞–π–ª–æ–≤...

# –ü–û–°–õ–ï (v4.4.51) - –ü–†–û–°–¢–û:
# –ï–¥–∏–Ω—ã–π –ø—Ä–æ—Ö–æ–¥: –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
logger.info("üöÄ –§–∏–Ω–∞–ª—å–Ω—ã–π —Å–µ–≥–º–µ–Ω—Ç: –µ–¥–∏–Ω—ã–π –ø—Ä–æ—Ö–æ–¥ –±–µ–∑ callback")
result = pipe_to_use(
    **{**pipe_kwargs, "output_type": "pil"}
)

# –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–æ–ª—å–∫–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ colormap
yield Path(final_path)
yield Path(colormap_path)
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è
- **–ú–æ–¥–µ–ª—å**: v4.4.51
- **–°—Å—ã–ª–∫–∞**: https://replicate.com/nauslava/plitka-pro-project:v4.4.51
- **–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

### –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ù–∏–∫–∞–∫–∏—Ö —Å–ª–æ–∂–Ω—ã—Ö callback –∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
2. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –¢–æ–ª—å–∫–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ colormap
3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–±–ª–µ–º**: –ù–∏–∫–∞–∫–∏—Ö —á–µ—Ä–Ω—ã—Ö –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ –∏ –ø—Ä–æ–±–ª–µ–º —Å –º–∞–ø–ø–∏–Ω–≥–æ–º
4. **–ë—ã—Å—Ç—Ä–æ—Ç–∞**: –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –ø—Ä–æ—Å—Ç—ã–º –ø—Ä–æ–º–ø—Ç–æ–º:
```json
{"prompt": "100% white"}
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
- ‚úÖ –¢–æ–ª—å–∫–æ 2 —Ñ–∞–π–ª–∞: `final.png` –∏ `colormap.png`
- ‚úÖ `final.png` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- ‚úÖ `colormap.png` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–∞—Ä—Ç—É —Ü–≤–µ—Ç–æ–≤
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —á–µ—Ä–Ω—ã—Ö –∫–≤–∞–¥—Ä–∞—Ç–æ–≤
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

## –£—Ä–æ–∫–∏

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –ª—É—á—à–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏**: –ò–Ω–æ–≥–¥–∞ –ª—É—á—à–µ —É–±—Ä–∞—Ç—å –ø—Ä–æ–±–ª–µ–º–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
2. **–ü—Ä–µ–≤—å—é –Ω–µ –≤—Å–µ–≥–¥–∞ –Ω—É–∂–Ω–æ**: –ï—Å–ª–∏ –ø—Ä–µ–≤—å—é –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –ª—É—á—à–µ –±–µ–∑ –Ω–µ–≥–æ
3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç**: –õ—É—á—à–µ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ–∑ –ø—Ä–µ–≤—å—é, —á–µ–º —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏
4. **–ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã, –≤—ã–±–∏—Ä–∞–µ–º –ª—É—á—à–∏–π

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í–µ—Ä—Å–∏—è v4.4.51 –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –∏ —Å—Ç–∞–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é –º–æ–¥–µ–ª–∏ –±–µ–∑ –ø—Ä–µ–≤—å—é. –≠—Ç–æ —Ä–µ—à–µ–Ω–∏–µ —É—Å—Ç—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å callback –∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –Ω–∞–¥–µ–∂–Ω—É—é —Ä–∞–±–æ—Ç—É –º–æ–¥–µ–ª–∏.
