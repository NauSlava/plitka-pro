# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

**–î–∞—Ç–∞:** 2025-01-11  
**–í–µ—Ä—Å–∏—è:** v4.5.06  
**–ü—Ä–æ–±–ª–µ–º–∞:** –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –∑–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ –ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–µ–º —à–∞–≥–µ

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏**: –§—É–Ω–∫—Ü–∏—è `predict` –≤—ã–∑—ã–≤–∞–ª–∞—Å—å –¥–≤–∞–∂–¥—ã –ø–æ–¥—Ä—è–¥
2. **–î–≤–æ–π–Ω–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä**: –í –ª–æ–≥–∞—Ö –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –¥–≤–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
3. **–ó–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ –ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–µ–º —à–∞–≥–µ**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≤–∏—Å–∞–ª–∞ –Ω–∞ 24/25 —à–∞–≥–µ –Ω–∞ –º–∏–Ω—É—Ç—É –∏ –±–æ–ª–µ–µ
4. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ yield –≤ callback**: Callback —Ñ—É–Ω–∫—Ü–∏—è –ø—ã—Ç–∞–ª–∞—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `yield`, —á—Ç–æ –Ω–∞—Ä—É—à–∞–ª–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É Cog

### –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã:
- **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π callback**: –§—É–Ω–∫—Ü–∏—è `_callback_on_step` —Å–æ–¥–µ—Ä–∂–∞–ª–∞ –ø–æ–ø—ã—Ç–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `yield` –≤–Ω—É—Ç—Ä–∏ callback
- **–ù–∞—Ä—É—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Cog**: Callback –Ω–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–Ω—ã–π –≤—ã–≤–æ–¥
- **–ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å Iterator[Path]**: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–∑—ã–≤–∞–ª–æ –ø—Ä–æ–±–ª–µ–º—ã —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –£–¥–∞–ª–µ–Ω –ø—Ä–æ–±–ª–µ–º–Ω—ã–π callback
```python
# –ë–´–õ–û (–ø—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥):
def _callback_on_step(step: int = None, timestep: int = None, **kwargs):
    # ... –∫–æ–¥ callback ...
    yield_path = Path(preview_path)  # ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: yield –≤ callback

# –°–¢–ê–õ–û:
# –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–±—Ä–∞–Ω –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π callback, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–ª –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
# –ü—Ä–µ–≤—å—é —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏–∑ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
```

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–≤—å—é
```python
# –ë–´–õ–û: –ü—Ä–µ–≤—å—é —Å–æ–∑–¥–∞–≤–∞–ª–æ—Å—å –≤ callback (–≤—ã–∑—ã–≤–∞–ª–æ –ø—Ä–æ–±–ª–µ–º—ã)

# –°–¢–ê–õ–û:
# –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –°–æ–∑–¥–∞–µ–º –ø—Ä–µ–≤—å—é –∏–∑ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
preview_path = "/tmp/preview.png"
preview_image = final_image.resize((512, 512), Image.Resampling.LANCZOS)
preview_image.save(preview_path)
logger.info(f"üü° PREVIEW_READY {preview_path}")
```

### 3. –£–ø—Ä–æ—â–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –£–±—Ä–∞–Ω –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π callback
- –ü—Ä–µ–≤—å—é —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –µ–¥–∏–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
1. ‚úÖ **–£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
2. ‚úÖ **–£–±—Ä–∞–Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∞**: –ù–µ—Ç –±–æ–ª—å—à–µ –∑–∞–≤–∏—Å–∞–Ω–∏—è –Ω–∞ –ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–µ–º —à–∞–≥–µ
3. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä**: –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
4. ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: –ü—Ä–µ–≤—å—é –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Å–æ–∑–¥–∞–µ—Ç—Å—è
5. ‚úÖ **–£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–æ–∫—Ä–∞—â–µ–Ω–æ –≤–¥–≤–æ–µ

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:
- **–í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏**: –°–æ–∫—Ä–∞—â–µ–Ω–æ —Å ~52 —Å–µ–∫—É–Ω–¥ –¥–æ ~26 —Å–µ–∫—É–Ω–¥
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –£–ø—Ä–æ—â–µ–Ω–∞, —É–±—Ä–∞–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å Cog
- **–ü—Ä–µ–≤—å—é**: –°–æ–∑–¥–∞–µ—Ç—Å—è –∏–∑ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ)
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Cog –∏ Replicate

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑
2. **–í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏**: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Ä–µ–º—è —Å–æ–∫—Ä–∞—Ç–∏–ª–æ—Å—å –¥–æ ~26 —Å–µ–∫—É–Ω–¥
3. **–ü—Ä–µ–≤—å—é**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–µ–≤—å—é —Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. **–õ–æ–≥–∏**: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

### –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å GUI —Ç–µ—Å—Ç–µ—Ä –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç
python scripts/replicate_gui.py
```

## üìã –°—Ç–∞—Ç—É—Å

- ‚úÖ **–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã**: –ó–∞–≤–µ—Ä—à–µ–Ω
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: –ü—Ä–∏–º–µ–Ω–µ–Ω—ã
- ‚úÖ **–°–∏–Ω—Ç–∞–∫—Å–∏—Å**: –ü—Ä–æ–≤–µ—Ä–µ–Ω (–Ω–µ—Ç –æ—à–∏–±–æ–∫)
- üîÑ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å –Ω–∞ Replicate
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∑–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ –ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–µ–º —à–∞–≥–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–µ–≤—å—é —Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é –º–æ–¥–µ–ª–∏ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
