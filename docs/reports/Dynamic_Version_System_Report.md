# –û—Ç—á–µ—Ç –ø–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã –≤–µ—Ä—Å–∏–π

## üìã **–û–±–∑–æ—Ä**

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π –∏ —Ö–µ—à–µ–π, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–∫–ª—é—á–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∂–µ—Å—Ç–∫–æ–≥–æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –≤–µ—Ä—Å–∏–π –≤ –∫–æ–¥–µ –ø—Ä–æ–µ–∫—Ç–∞.

## üéØ **–¶–µ–ª–∏**

1. **–£—Å—Ç—Ä–∞–Ω–∏—Ç—å –∂–µ—Å—Ç–∫–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤–µ—Ä—Å–∏–π –∏ —Ö–µ—à–µ–π –≤ –∫–æ–¥–µ
2. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
3. **–£–ø—Ä–æ—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å** –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π
4. **–ü–æ–≤—ã—Å–∏—Ç—å –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å** –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π

## üîß **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

### **1. –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ (`scripts/update_version_info.py`)**

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–µ—Ä—Å–∏—é –∏–∑ git —Ç–µ–≥–æ–≤
- –ü–æ–ª—É—á–∞–µ—Ç —Ö–µ—à –∫–æ–º–º–∏—Ç–∞ –∏–∑ git
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ö–µ—à Docker –æ–±—Ä–∞–∑–∞
- –°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª `version_info.json` —Å –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- –û–±–Ω–æ–≤–ª—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env` —Ñ–∞–π–ª–µ

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
python3 scripts/update_version_info.py
```

### **2. –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π VersionManager (`version_manager.py`)**

**–ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
- `get_current_version_from_env()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `get_current_hash_from_env()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ö–µ—à–∞ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `get_version_info_from_file()` - —á—Ç–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ `version_info.json`
- `get_dynamic_version_info()` - –≥–∏–±—Ä–∏–¥–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):**
1. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** (`CURRENT_VERSION`, `CURRENT_DOCKER_HASH`)
2. **–§–∞–π–ª version_info.json** (—Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏)
3. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** (`version_config.json`)

### **3. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

**GUI —Ç–µ—Å—Ç–µ—Ä (`scripts/replicate_gui.py`):**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ —á–µ—Ä–µ–∑ `get_current_version()`
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ fallback –¥–ª—è —Ö–µ—à–µ–π
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ‚Üí —Ç–µ–∫—É—â–∏–π —Ö–µ—à ‚Üí hardcoded fallback

**Predict.py:**
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ `MODEL_VERSION` —á–µ—Ä–µ–∑ `get_current_version()`
- Fallback –Ω–∞ –≤–µ—Ä—Å–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ –æ—à–∏–±–∫–µ

### **4. –°–∫—Ä–∏–ø—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (`scripts/publish_version.py`)**

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–µ—Ä—Å–∏–∏
- –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞ (`cog build`)
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–∞ Replicate (`cog push`)
- –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
python3 scripts/publish_version.py
```

## üìÅ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤**

```
project/
‚îú‚îÄ‚îÄ version_info.json          # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ .env                       # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ version_config.json        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–µ—Ä—Å–∏–π
‚îú‚îÄ‚îÄ version_manager.py         # –ú–µ–Ω–µ–¥–∂–µ—Ä –≤–µ—Ä—Å–∏–π
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ update_version_info.py # –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ publish_version.py     # –°–∫—Ä–∏–ø—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ docs/reports/
    ‚îî‚îÄ‚îÄ Dynamic_Version_System_Report.md
```

## üîÑ **–ü—Ä–æ—Ü–µ—Å—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏**

### **–°—Ç–∞—Ä—ã–π –ø—Ä–æ—Ü–µ—Å—Å:**
1. –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –≤ `cog.yaml`
2. –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –≤ `predict.py`
3. –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ö–µ—à–µ–π –≤ GUI —Ç–µ—Å—Ç–µ—Ä–µ
4. –°–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è

### **–ù–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å:**
1. –ó–∞–ø—É—Å–∫ `python3 scripts/publish_version.py`
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –∏–∑ git
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
4. –°–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è

## ‚úÖ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**

1. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:** –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é –æ–±–Ω–æ–≤–ª—è—Ç—å –≤–µ—Ä—Å–∏–∏
2. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏
3. **–ì–∏–±–∫–æ—Å—Ç—å:** –õ–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –≤–µ—Ä—Å–∏–π
4. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å:** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω—É –≤–µ—Ä—Å–∏—é
5. **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å:** Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

### **–¢–µ—Å—Ç 1: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏**
```bash
python3 -c "from version_manager import get_current_version; print(get_current_version())"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `v4.5.02-3-gcc9903b` ‚úÖ

### **–¢–µ—Å—Ç 2: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ö–µ—à–∞**
```bash
python3 -c "from version_manager import get_current_hash; print(get_current_hash())"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `cc9903b57e4aedd316cd0159d53d009428019820` ‚úÖ

### **–¢–µ—Å—Ç 3: GUI —Ç–µ—Å—Ç–µ—Ä**
```bash
python3 scripts/replicate_gui.py
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –∏ —Ö–µ—à–∞ ‚úÖ

### **–¢–µ—Å—Ç 4: Predict.py**
```bash
python3 -c "from predict import MODEL_VERSION; print(MODEL_VERSION)"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `v4.5.02-3-gcc9903b` ‚úÖ

## üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π**

- **–°–æ–∑–¥–∞–Ω–æ —Ñ–∞–π–ª–æ–≤:** 3
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤:** 3
- **–£–¥–∞–ª–µ–Ω–æ –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π:** 4
- **–î–æ–±–∞–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π:** 6

## üöÄ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**

### **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `get_current_version()` –≤–º–µ—Å—Ç–æ –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `get_current_hash()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ —Ö–µ—à–∞
3. –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ VersionManager

### **–î–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:**
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `python3 scripts/publish_version.py` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
2. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ `version_info.json` –ø–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–µ—Ä—Å–∏—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ Replicate

### **–î–ª—è –æ—Ç–ª–∞–¥–∫–∏:**
1. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ `version_info.json` –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `get_current_version_info()` –¥–ª—è –ø–æ–ª–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

## üéâ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–µ—Ä—Å–∏–π —É—Å–ø–µ—à–Ω–æ –≤–Ω–µ–¥—Ä–µ–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞. –°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** –≤–µ—Ä—Å–∏–π –∏ —Ö–µ—à–µ–π
- ‚úÖ **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∂–µ—Å—Ç–∫–æ–≥–æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è** –≤ –∫–æ–¥–µ
- ‚úÖ **–ù–∞–¥–µ–∂–Ω—ã–µ fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏**
- ‚úÖ **–£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏**
- ‚úÖ **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

–¢–µ–ø–µ—Ä—å –ø—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä—É—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π –≤ –∫–æ–¥–µ.

