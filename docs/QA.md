## Вопросы для уточнения (QA)

### Модели и веса
- Какие точные `repo_id` использовать для ControlNet под SDXL для режимов: Canny и SoftEdge (или аналог SoftEdge для SDXL)?
- Требуется ли отдельный VAE для SDXL (и какой именно `repo_id` зафиксировать)?
- Планируем ли подключать SDXL Refiner или ограничимся базовой моделью + ControlNet?

### Карта цветов и референсы
- Где будет располагаться каталог референсов одноцветной плитки? Предлагаю `model_files/refs/<color>/*`.
- Каков набор поддерживаемых «бизнес‑цветов» (словарь `name → референс/HEX`)? Есть ли соответствующие реальные референсы для каждого?
- Допускаем ли `hex` без `name`, и что считать источником палитры в этом случае (синтетическая генерация из HEX или fallback к ближайшему `name`)?
- Требуются ли ограничения на минимальные доли (`proportion`) и точность суммирования (например, нормализация до 1.0 с допуском ±0.5%)?

### Углы и селектор ControlNet
- Какая матрица соответствий `angle → ControlNet` для целевых кейсов (например: `0/90` → Canny; `45/135` → SoftEdge)?
- Допускаются ли произвольные углы (и тогда как округлять/к какому профилю привязывать)?

### Качество/профили и производительность
- Профили качества: какие значения (`preview`, `standard`, `high`) и как они мапятся на `num_inference_steps`, тайлинги, `guidance_scale` и т.п.?
- Целевые SLA: время до превью и до финала на целевом GPU? Максимально допустимые ресурсы VRAM?
- Нужно ли реальное конкурентное исполнение превью и финала (два процесса/пайплайна), или достаточно быстрой последовательности с приоритетом превью на одной GPU?

### API и контракты
- Разрешаем ли значения `colors.proportion` в процентах (например, `70`) или только [0,1]? Как обрабатываем суммы ≠ 1.0?
- Нужно ли возвращать `metadata.json` и какие поля в него включать?
- Нужна ли обратная совместимость с текущими параметрами (`prompt`, `negative_prompt`, `seed`) или переходим строго на `params_json`?

### Эксплуатация и логирование
- Какие логи и метрики важны (время генерации, VRAM, шаги, применённый профиль)? Куда отдавать (stdout достаточно)?
- Нужны ли тестовые энд‑ту‑энд примеры с зафиксированными сидами для регрессионных проверок?


