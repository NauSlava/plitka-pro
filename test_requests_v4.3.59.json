{
  "version": "v4.3.59",
  "model_url": "https://replicate.com/nauslava/plitka-pro-project:v4.3.59",
  "description": "Тестовые запросы для проверки исправления префикса TOK и Textual Inversion в версии v4.3.59",
  "test_cases": [
    {
      "name": "Тест 1: Проверка префикса TOK (белый)",
      "description": "Критический тест для проверки правильного формата промптов с префиксом TOK",
      "request": {
        "params_json": "{\"colors\":[{\"name\":\"white\",\"proportion\":1.0}],\"angle\":0,\"quality\":\"standard\",\"seed\":42}"
      },
      "expected": "Промпт должен содержать 'TOK, ohwx_rubber_tile <s0><s1>, 100% white, photorealistic rubber tile, high quality, detailed texture', правильный размер крошки"
    },
    {
      "name": "Тест 2: Проверка Textual Inversion (красный)",
      "description": "Проверка правильной активации Textual Inversion с токеном TOK",
      "request": {
        "params_json": "{\"colors\":[{\"name\":\"red\",\"proportion\":1.0}],\"angle\":0,\"quality\":\"standard\",\"seed\":42}"
      },
      "expected": "Textual Inversion должен активироваться, правильный размер крошки, красный цвет"
    },
    {
      "name": "Тест 3: Два цвета с префиксом TOK",
      "description": "Проверка сложного случая с правильным форматом промптов",
      "request": {
        "params_json": "{\"colors\":[{\"name\":\"blue\",\"proportion\":0.6},{\"name\":\"green\",\"proportion\":0.4}],\"angle\":0,\"quality\":\"standard\",\"seed\":42}"
      },
      "expected": "Промпт должен содержать 'TOK, ohwx_rubber_tile <s0><s1>, 60% blue, 40% green, photorealistic rubber tile, high quality, detailed texture'"
    },
    {
      "name": "Тест 4: Сравнение с рабочей моделью v4.3.39",
      "description": "Критический тест для сравнения с рабочей версией v4.3.39",
      "request": {
        "params_json": "{\"colors\":[{\"name\":\"white\",\"proportion\":1.0}],\"angle\":0,\"quality\":\"standard\",\"seed\":42}"
      },
      "expected": "ТОЧНО такой же результат как в v4.3.39, идентичный размер крошки и качество"
    },
    {
      "name": "Тест 5: Высокое качество с префиксом TOK",
      "description": "Проверка высокого качества с правильным форматом промптов",
      "request": {
        "params_json": "{\"colors\":[{\"name\":\"black\",\"proportion\":1.0}],\"angle\":0,\"quality\":\"high\",\"seed\":42}"
      },
      "expected": "Высокое качество, правильный размер крошки, префикс TOK в промпте"
    },
    {
      "name": "Тест 6: Случайный seed с префиксом TOK",
      "description": "Проверка случайного seed с правильным форматом",
      "request": {
        "params_json": "{\"colors\":[{\"name\":\"yellow\",\"proportion\":1.0}],\"angle\":0,\"quality\":\"standard\",\"seed\":-1}"
      },
      "expected": "Случайный результат, правильный размер крошки, префикс TOK в промпте"
    },
    {
      "name": "Тест 7: Три цвета с префиксом TOK",
      "description": "Проверка сложного случая с тремя цветами",
      "request": {
        "params_json": "{\"colors\":[{\"name\":\"red\",\"proportion\":0.3},{\"name\":\"blue\",\"proportion\":0.4},{\"name\":\"green\",\"proportion\":0.3}],\"angle\":0,\"quality\":\"standard\",\"seed\":42}"
      },
      "expected": "Равномерное распределение, правильный размер крошки, префикс TOK в промпте"
    },
    {
      "name": "Тест 8: Preview с префиксом TOK",
      "description": "Проверка быстрой генерации с правильным форматом",
      "request": {
        "params_json": "{\"colors\":[{\"name\":\"gray\",\"proportion\":1.0}],\"angle\":0,\"quality\":\"preview\",\"seed\":42}"
      },
      "expected": "Быстрая генерация, правильный размер крошки, префикс TOK в промпте"
    }
  ],
  "notes": [
    "Все тесты используют seed=42 для воспроизводимости (кроме теста 6)",
    "Угол 0° (top view) - единственный надежный ракурс",
    "Ожидается исправление префикса TOK в промптах",
    "Ожидается правильная активация Textual Inversion",
    "Критический тест: Тест 4 должен дать ТОЧНО такой же результат как v4.3.39",
    "Промпты теперь включают: 'TOK, ohwx_rubber_tile <s0><s1>, [цвета], photorealistic rubber tile, high quality, detailed texture'",
    "Textual Inversion загружается с токеном 'TOK'"
  ],
  "critical_checks": [
    "Префикс TOK должен присутствовать в промптах",
    "Textual Inversion должен загружаться с токеном TOK",
    "Размер крошки должен быть правильным",
    "Все исправления v4.3.58 должны работать (парсинг JSON, seed)",
    "Результат должен соответствовать рабочей модели v4.3.39",
    "Промпты должны иметь правильный формат"
  ],
  "web_interface_format": {
    "description": "Для веб-интерфейса Replicate используйте поле params_json",
    "example": "{\"params_json\": \"{\\\"colors\\\":[{\\\"name\\\":\\\"white\\\",\\\"proportion\\\":1.0}],\\\"angle\\\":0,\\\"quality\\\":\\\"standard\\\",\\\"seed\\\":42}\"}"
  }
}
