{
  "version": "v4.5.06",
  "description": "Пресеты для тестирования модели Plitka Pro v4.5.06 с критическими исправлениями и органическими гранулами",
  "last_updated": "2025-09-07",
  "presets": {
    "critical_fixes_tests": {
      "name": "Тесты критических исправлений",
      "description": "Пресеты для проверки критических исправлений v4.5.06",
      "tests": [
        {
          "name": "Тест 1: Исправление broadcast ошибки",
          "prompt": "ohwx_rubber_tile <s0><s1> 50% red, 50% blue rubber tile, granular pattern, organic texture, high quality, photorealistic rubber tile, high quality, detailed texture, professional photography, sharp focus",
          "colormap": "granular",
          "granule_size": "medium",
          "seed": 101,
          "steps": 25,
          "guidance": 7.5,
          "expected": "Должен работать без ошибки broadcast, создавать органические гранулы"
        },
        {
          "name": "Тест 2: Усиление ControlNet",
          "prompt": "ohwx_rubber_tile <s0><s1> 60% red, 40% blue rubber tile, random pattern, organic texture, high quality, photorealistic rubber tile, high quality, detailed texture, professional photography, sharp focus",
          "colormap": "random",
          "granule_size": "medium",
          "seed": 102,
          "steps": 25,
          "guidance": 7.5,
          "expected": "ControlNet должен иметь усиленное влияние (1.0-1.1), лучше контролировать генерацию"
        },
        {
          "name": "Тест 3: Органические гранулы",
          "prompt": "ohwx_rubber_tile <s0><s1> 30% red, 30% blue, 20% dkgreen, 20% yellow rubber tile, granular pattern, realistic granules, photorealistic rubber tile, high quality, detailed texture, professional photography, sharp focus",
          "colormap": "granular",
          "granule_size": "medium",
          "seed": 103,
          "steps": 30,
          "guidance": 8.0,
          "expected": "Гранулы должны иметь органические формы с вариативными размерами (2-8 пикселей)"
        },
        {
          "name": "Тест 4: Усиление токенов цветов",
          "prompt": "ohwx_rubber_tile <s0><s1> 25% red, 25% blue, 25% dkgreen, 25% yellow rubber tile, granular pattern, realistic granules, photorealistic rubber tile, high quality, detailed texture, professional photography, sharp focus",
          "colormap": "granular",
          "granule_size": "medium",
          "seed": 104,
          "steps": 35,
          "guidance": 8.5,
          "expected": "Все 4 цвета должны присутствовать в результате (усиленные токены предотвращают потерю)"
        }
      ]
    },
    "organic_granules_tests": {
      "name": "Тесты органических гранул",
      "description": "Пресеты для проверки новых органических гранул",
      "tests": [
        {
          "name": "Тест 5: Мелкие органические гранулы",
          "prompt": "ohwx_rubber_tile <s0><s1> 70% red, 30% blue rubber tile, granular pattern, small granules, organic texture, high quality, photorealistic rubber tile, high quality, detailed texture, professional photography, sharp focus",
          "colormap": "granular",
          "granule_size": "small",
          "seed": 201,
          "steps": 25,
          "guidance": 7.5,
          "expected": "Мелкие гранулы (2-4 пикселя) с органическими формами"
        },
        {
          "name": "Тест 6: Средние органические гранулы",
          "prompt": "ohwx_rubber_tile <s0><s1> 60% red, 40% blue rubber tile, granular pattern, medium granules, organic texture, high quality, photorealistic rubber tile, high quality, detailed texture, professional photography, sharp focus",
          "colormap": "granular",
          "granule_size": "medium",
          "seed": 202,
          "steps": 25,
          "guidance": 7.5,
          "expected": "Средние гранулы (3-6 пикселей) с органическими формами"
        },
        {
          "name": "Тест 7: Крупные органические гранулы",
          "prompt": "ohwx_rubber_tile <s0><s1> 50% red, 50% blue rubber tile, granular pattern, large granules, organic texture, high quality, photorealistic rubber tile, high quality, detailed texture, professional photography, sharp focus",
          "colormap": "granular",
          "granule_size": "large",
          "seed": 203,
          "steps": 25,
          "guidance": 7.5,
          "expected": "Крупные гранулы (5-8 пикселей) с органическими формами"
        }
      ]
    },
    "color_variety_tests": {
      "name": "Тесты разнообразия цветов",
      "description": "Пресеты для проверки работы с различными цветами",
      "tests": [
        {
          "name": "Тест 8: Основные цвета",
          "prompt": "ohwx_rubber_tile <s0><s1> 25% red, 25% blue, 25% green, 25% yellow rubber tile, granular pattern, organic texture, high quality, photorealistic rubber tile, high quality, detailed texture, professional photography, sharp focus",
          "colormap": "granular",
          "granule_size": "medium",
          "seed": 301,
          "steps": 30,
          "guidance": 8.0,
          "expected": "Все 4 основных цвета должны присутствовать"
        },
        {
          "name": "Тест 9: Специальные цвета",
          "prompt": "ohwx_rubber_tile <s0><s1> 30% dkgreen, 30% ltgreen, 20% whtgrn, 20% grngrn rubber tile, granular pattern, organic texture, high quality, photorealistic rubber tile, high quality, detailed texture, professional photography, sharp focus",
          "colormap": "granular",
          "granule_size": "medium",
          "seed": 302,
          "steps": 30,
          "guidance": 8.0,
          "expected": "Все 4 специальных зеленых цвета должны присутствовать"
        },
        {
          "name": "Тест 10: Декоративные цвета",
          "prompt": "ohwx_rubber_tile <s0><s1> 25% pearl, 25% salmon, 25% orange, 25% pink rubber tile, granular pattern, organic texture, high quality, photorealistic rubber tile, high quality, detailed texture, professional photography, sharp focus",
          "colormap": "granular",
          "granule_size": "medium",
          "seed": 303,
          "steps": 30,
          "guidance": 8.0,
          "expected": "Все 4 декоративных цвета должны присутствовать"
        }
      ]
    },
    "pattern_variety_tests": {
      "name": "Тесты разнообразия паттернов",
      "description": "Пресеты для проверки различных паттернов",
      "tests": [
        {
          "name": "Тест 11: Random паттерн",
          "prompt": "ohwx_rubber_tile <s0><s1> 50% red, 50% blue rubber tile, random pattern, organic texture, high quality, photorealistic rubber tile, high quality, detailed texture, professional photography, sharp focus",
          "colormap": "random",
          "granule_size": "medium",
          "seed": 401,
          "steps": 25,
          "guidance": 7.5,
          "expected": "Случайное распределение цветов"
        },
        {
          "name": "Тест 12: Grid паттерн",
          "prompt": "ohwx_rubber_tile <s0><s1> 50% red, 50% blue rubber tile, grid pattern, organic texture, high quality, photorealistic rubber tile, high quality, detailed texture, professional photography, sharp focus",
          "colormap": "grid",
          "granule_size": "medium",
          "seed": 402,
          "steps": 25,
          "guidance": 7.5,
          "expected": "Сеточное распределение цветов"
        },
        {
          "name": "Тест 13: Radial паттерн",
          "prompt": "ohwx_rubber_tile <s0><s1> 50% red, 50% blue rubber tile, radial pattern, organic texture, high quality, photorealistic rubber tile, high quality, detailed texture, professional photography, sharp focus",
          "colormap": "radial",
          "granule_size": "medium",
          "seed": 403,
          "steps": 25,
          "guidance": 7.5,
          "expected": "Радиальное распределение цветов"
        }
      ]
    },
    "stress_tests": {
      "name": "Стресс-тесты",
      "description": "Пресеты для проверки стабильности и производительности",
      "tests": [
        {
          "name": "Тест 14: Максимальная сложность",
          "prompt": "ohwx_rubber_tile <s0><s1> 15% red, 15% blue, 15% green, 15% yellow, 15% dkgreen, 15% ltgreen, 10% pearl rubber tile, granular pattern, organic texture, high quality, photorealistic rubber tile, high quality, detailed texture, professional photography, sharp focus",
          "colormap": "granular",
          "granule_size": "medium",
          "seed": 501,
          "steps": 35,
          "guidance": 8.5,
          "expected": "7 цветов должны обрабатываться без ошибок"
        },
        {
          "name": "Тест 15: Высокое качество",
          "prompt": "ohwx_rubber_tile <s0><s1> 40% red, 30% blue, 30% dkgreen rubber tile, granular pattern, organic texture, high quality, photorealistic rubber tile, high quality, detailed texture, professional photography, sharp focus",
          "colormap": "granular",
          "granule_size": "medium",
          "seed": 502,
          "steps": 50,
          "guidance": 10.0,
          "expected": "Высокое качество генерации с максимальными параметрами"
        },
        {
          "name": "Тест 16: Быстрая генерация",
          "prompt": "ohwx_rubber_tile <s0><s1> 50% red, 50% blue rubber tile, granular pattern, organic texture, high quality, photorealistic rubber tile, high quality, detailed texture, professional photography, sharp focus",
          "colormap": "granular",
          "granule_size": "medium",
          "seed": 503,
          "steps": 10,
          "guidance": 5.0,
          "expected": "Быстрая генерация с минимальными параметрами"
        }
      ]
    }
  },
  "test_instructions": {
    "setup": [
      "1. Запустите GUI тестер: bash scripts/run_replicate_gui.sh",
      "2. Убедитесь, что используется версия v4.5.06",
      "3. Выберите пресет из списка ниже",
      "4. Запустите тест и проверьте результат"
    ],
    "evaluation_criteria": [
      "✅ Отсутствие ошибок в логах",
      "✅ Все запрошенные цвета присутствуют в результате",
      "✅ Органические формы гранул (не идеальные круги)",
      "✅ Вариативные размеры гранул",
      "✅ Соответствие colormap финальному изображению",
      "✅ Качество и реалистичность текстуры"
    ],
    "troubleshooting": [
      "Если тест не проходит:",
      "1. Проверьте логи на наличие ошибок",
      "2. Убедитесь, что все цвета распознаны",
      "3. Проверьте соответствие colormap и финального изображения",
      "4. При критических ошибках генерация должна прерываться с информативным сообщением"
    ]
  },
  "expected_improvements": {
    "v4.5.06_vs_v4.5.05": [
      "🚨 Исправлена ошибка broadcast в валидации colormap",
      "🚨 Заменен дефектный аварийный механизм на случайное распределение точек",
      "🚨 Добавлен механизм прерывания по критическим ошибкам",
      "🚨 Усилено влияние ControlNet (1.0-1.1 вместо 0.7-0.9)",
      "🚨 Исправлен алгоритм granular паттерна с точным подсчетом пикселей",
      "🚨 Добавлено усиление токенов цветов для предотвращения потери attention mechanism",
      "✨ Динамические размеры гранул (2-8 пикселей) вместо фиксированных",
      "✨ Органические формы гранул с вариативностью и искажениями",
      "✨ Калибровка параметров на основе референсных изображений",
      "✨ Валидация ControlNet карт перед передачей в ControlNet"
    ]
  }
}
