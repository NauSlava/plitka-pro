# cog.yaml
# Version: v4.5.02 - RUBBER TILE GENERATION MODEL (Critical Architecture Fixes + Colormap Pattern Fix)
# Description: Модель для генерации изображений резиновой плитки с кардинальными исправлениями архитектуры
# Changes:
# - КРИТИЧЕСКОЕ ИСПРАВЛЕНИЕ: AttributeError для методов ControlNet - перемещены внутрь класса Predictor
# - КРИТИЧЕСКОЕ ИСПРАВЛЕНИЕ: Валидация colormap - добавлена поддержка RGBA формата
# - КРИТИЧЕСКОЕ ИСПРАВЛЕНИЕ: Сборка Docker образа - устранены синтаксические ошибки
# - АРХИТЕКТУРНОЕ ИЗМЕНЕНИЕ: Методы select_optimal_controlnet и apply_multi_controlnet теперь доступны
# - АРХИТЕКТУРНОЕ ИЗМЕНЕНИЕ: Корректная работа с 4-канальными RGBA изображениями
# - ГОТОВНОСТЬ: Модель готова к тестированию мультимодального ControlNet
# - ДОКУМЕНТАЦИЯ: Обновлена документация с результатами критических исправлений

build:
  gpu: true
  cuda: "12.1"
  python_version: "3.11"
  python_requirements: "requirements.txt"
  system_packages:
    - "libgl1-mesa-glx"
    - "libglib2.0-0"
  cog_runtime: true

predict: "predict.py:Predictor"

image: "r8.im/nauslava/plitka-pro-project:v4.5.02"